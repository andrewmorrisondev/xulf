"use client";

import Link from 'next/link';
import { usePathname } from 'next/navigation';
import { useEffect, useRef, useState } from 'react';
import styles from './NavBar.module.css';

import useScreenSize from '../../(shared)/hooks/useScreenSize';

export default function NavBarMobile() {
  const pathname = usePathname();
  const [open, setOpen] = useState(false);
  const [hidden, setHidden] = useState(false);
  const lastY = useRef(0);

  const { sizeCategory } = useScreenSize();

  // Hide on scroll down, show on scroll up
  useEffect(() => {
    lastY.current = window.scrollY;
    const onScroll = () => {
      const y = window.scrollY;
      const dy = y - lastY.current;
      // if scrolled down and beyond small threshold, hide; if up, show
      if (dy > 4 && y > 24) setHidden(true);
      else if (dy < -4) setHidden(false);
      lastY.current = y;
    };
    window.addEventListener('scroll', onScroll, { passive: true });
    return () => window.removeEventListener('scroll', onScroll);
  }, []);

  // Close menu when route changes or on scroll hide
  useEffect(() => { setOpen(false); }, [pathname]);
  useEffect(() => { if (hidden) setOpen(false); }, [hidden]);

  const navItems = [
    { href: '/', label: 'Home' },
    { href: '/bio', label: 'Bio' },
    { href: '/works', label: 'Works' },
    { href: '/calendar', label: 'Calendar' },
    { href: '/media', label: 'Media' },
    { href: '/contact', label: 'Contact' },
  ];

  return (
    <>
      <nav className={` ${styles.nav} ${hidden ? styles.hidden : ''}`}>
        {/* Left: Logo mark (simple circle mark to keep lightweight on mobile) */}
        <div className={styles.logo}>
          <svg xmlns="http://www.w3.org/2000/svg" width="93" height="101" viewBox="0 0 93 101" fill="none">
            <ellipse cx="31.5242" cy="35.403" rx="58.5484" ry="63.4274" fill="#1D2C40"/>
            <path d="M34.452 -28.5C66.4741 -28.4997 92.4999 -0.364394 92.4999 34.4277C92.4997 69.2197 66.474 97.3542 34.452 97.3545C2.42981 97.3545 -23.5966 69.2199 -23.5968 34.4277C-23.5968 -0.364554 2.42972 -28.5 34.452 -28.5Z" stroke="#D7E2EB"/>
            <path d="M30.5488 -25.5728C62.5709 -25.5725 88.5967 2.56285 88.5967 37.355C88.5965 72.147 62.5708 100.281 30.5488 100.282C-1.47338 100.282 -27.4998 72.1471 -27.5 37.355C-27.5 2.56269 -1.47348 -25.5728 30.5488 -25.5728Z" stroke="#D7E2EB"/>
            <path d="M20.3013 67.8154L46.2657 6.59597C47.6427 7.54385 49.9779 10.6649 50.6587 12.3989C50.3812 13.0231 26.1508 68.6015 26.1508 68.6015H26.9138L50.9592 13.0693C51.5038 13.8785 51.6991 14.8264 51.7916 15.52L28.7403 68.6015C28.7403 68.6015 59.8607 68.3472 61.4329 68.3472C61.3763 68.9945 60.9371 70.1967 60.6699 70.7747H18.3822C18.3823 69.9655 18.558 68.8049 19.3533 68.6015C20.1487 68.398 20.1857 68.0543 20.3013 67.8154Z" fill="#D7E2EB"/>
            <path d="M35.3066 30.9404L31.7922 39.1246C26.0814 35.8417 17.2956 28.2355 20.5094 16.7684C23.7231 5.3013 32.3009 3.10498 36.7863 3.10498C42.104 3.10498 45.0404 5.6712 45.7109 6.15671L45.5259 6.54973C43.1445 4.79268 40.4856 3.53726 36.7863 3.56736C32.8328 3.59954 24.9948 6.15671 23.5844 16.7684C22.7643 22.9394 29.3437 28.4667 35.3066 30.9404Z" fill="#D7E2EB"/>
            <path d="M40.0001 44.1414L43.2832 36.5352C63.0305 46.4302 65.1668 60.4898 63.1207 69.7806C61.7103 76.1846 53.1811 85.728 38.3123 86.1952C23.4434 86.6623 9.86146 73.2716 13.2726 58.4984C13.8385 56.0478 15.7697 54.4526 18.1511 54.5682C20.5325 54.6838 21.8504 56.8801 21.8504 58.4984C21.8504 60.1168 21.24 61.7952 18.1511 62.8679C15.0621 63.9407 14.3384 67.5842 16.3499 72.9941C18.3614 78.404 26.0561 85.2935 38.3123 85.2935C50.5684 85.2935 59.8167 77.6873 61.7103 69.7806C63.604 61.8738 60.1641 51.1465 40.0001 44.1414Z" fill="#D7E2EB"/>
          </svg>
        </div>
        {sizeCategory === 'small'
        ?
          <div className={styles.tinyWordmark}>
            <svg xmlns="http://www.w3.org/2000/svg" width="327" height="179" viewBox="0 0 327 179" fill="none">
              <path d="M20.735 68.9925C16.1653 68.9925 12.1382 68.1091 8.65384 66.3422C5.22658 64.5753 2.34196 62.3241 0 59.5883L2.14204 57.3655C4.42689 59.9873 7.1687 62.096 10.3675 63.6919C13.5662 65.2308 17.0221 66.0002 20.735 66.0002C25.7045 66.0002 29.6458 64.7749 32.559 62.3241C35.5294 59.8732 37.0145 56.71 37.0145 52.8344C37.0145 50.0416 36.4719 47.8188 35.3865 46.166C34.3583 44.5132 32.9874 43.1737 31.2738 42.1478C29.5602 41.0649 27.6467 40.0676 25.5331 39.1556L16.0225 34.881C14.2517 34.0831 12.3667 33.0856 10.3675 31.8887C8.42535 30.6918 6.76885 29.1245 5.39794 27.1866C4.02704 25.1918 3.34158 22.684 3.34158 19.6633C3.34158 16.6426 4.11272 14.0208 5.65499 11.798C7.19726 9.57517 9.28217 7.83681 11.9097 6.58293C14.5944 5.32903 17.6219 4.70209 20.992 4.70209C24.762 4.70209 28.0751 5.44302 30.9311 6.9249C33.8442 8.34976 36.1862 10.0596 37.957 12.0545L35.9863 14.1918C34.2155 12.2539 32.0734 10.6866 29.5602 9.48967C27.0469 8.29278 24.1907 7.69433 20.992 7.69433C16.6508 7.69433 13.1665 8.74873 10.5388 10.8576C7.91127 12.9664 6.59749 15.7877 6.59749 19.3213C6.59749 21.8861 7.19726 23.995 8.3968 25.6478C9.59634 27.2437 11.0529 28.5261 12.7666 29.4949C14.4802 30.4069 16.051 31.2048 17.4791 31.8887L26.9897 36.1633C29.3316 37.1893 31.5023 38.3862 33.5015 39.754C35.5007 41.0649 37.1001 42.7463 38.2997 44.7981C39.5564 46.7929 40.1847 49.3862 40.1847 52.5779C40.1847 55.7127 39.385 58.5339 37.7856 61.0417C36.1862 63.4925 33.9299 65.4302 31.0167 66.8552C28.1036 68.2801 24.6763 68.9925 20.735 68.9925ZM64.3757 67.8811V0H67.4602V20.0053V30.1789C69.8593 27.728 72.2869 25.7048 74.7432 24.1089C77.2564 22.513 80.0839 21.7151 83.2256 21.7151C87.8524 21.7151 91.2797 23.14 93.5074 25.9897C95.7352 28.7825 96.849 33.0856 96.849 38.8991V67.8811H93.7645V39.3266C93.7645 34.368 92.9077 30.6634 91.194 28.2125C89.5376 25.7617 86.7671 24.5364 82.8829 24.5364C80.0839 24.5364 77.5135 25.2773 75.1716 26.7592C72.8867 28.241 70.3162 30.4638 67.4602 33.4276V67.8811H64.3757ZM134.48 68.9925C132.138 68.9925 129.967 68.565 127.968 67.7101C126.026 66.8552 124.455 65.5443 123.256 63.7774C122.056 61.9536 121.456 59.6168 121.456 56.767C121.456 51.7514 123.827 47.9613 128.568 45.3965C133.309 42.7747 140.763 40.8939 150.931 39.754C151.045 37.3032 150.817 34.938 150.245 32.6582C149.731 30.3214 148.675 28.3835 147.075 26.8447C145.475 25.3058 143.106 24.5364 139.964 24.5364C136.765 24.5364 133.88 25.1633 131.31 26.4172C128.739 27.6711 126.711 28.868 125.226 30.0079L123.684 27.5286C124.655 26.8447 125.94 26.0468 127.54 25.1348C129.196 24.2228 131.081 23.425 133.195 22.741C135.365 22.0571 137.678 21.7151 140.135 21.7151C143.676 21.7151 146.447 22.513 148.446 24.1089C150.502 25.6478 151.931 27.6996 152.73 30.2644C153.587 32.8291 154.015 35.6504 154.015 38.7281V67.8811H151.445L151.017 61.8966H150.759C148.474 63.7774 145.933 65.4302 143.134 66.8552C140.392 68.2801 137.507 68.9925 134.48 68.9925ZM134.737 66.1712C137.421 66.1712 140.049 65.5443 142.62 64.2904C145.19 62.9795 147.96 61.0701 150.931 58.5624V42.4043C144.419 43.0882 139.221 44.0857 135.337 45.3965C131.51 46.6505 128.768 48.2178 127.111 50.0986C125.455 51.9224 124.627 54.1168 124.627 56.6816C124.627 60.1583 125.626 62.609 127.625 64.0339C129.625 65.4588 131.995 66.1712 134.737 66.1712ZM191.126 67.8811L173.99 22.8265H177.417L188.042 51.894C188.842 54.0597 189.642 56.2541 190.441 58.4769C191.241 60.6427 192.013 62.7231 192.754 64.7179H193.097C193.898 62.7231 194.697 60.6427 195.496 58.4769C196.297 56.2541 197.068 54.0597 197.809 51.894L208.52 22.8265H211.69L194.811 67.8811H191.126ZM249.032 68.9925C245.434 68.9925 242.092 68.0805 239.008 66.2567C235.981 64.3759 233.552 61.6972 231.725 58.2204C229.897 54.6868 228.983 50.4406 228.983 45.482C228.983 40.4095 229.897 36.1063 231.725 32.5727C233.552 29.039 235.981 26.3602 239.008 24.5364C242.092 22.6555 245.434 21.7151 249.032 21.7151C251.717 21.7151 254.259 22.2565 256.658 23.3395C259.115 24.3654 261.257 25.9042 263.084 27.9561C264.969 29.9508 266.426 32.4301 267.454 35.3939C268.54 38.3577 269.082 41.7204 269.082 45.482C269.082 50.4406 268.139 54.6868 266.254 58.2204C264.427 61.6972 261.998 64.3759 258.971 66.2567C255.944 68.0805 252.631 68.9925 249.032 68.9925ZM249.032 66.1712C252.231 66.1712 255.088 65.3163 257.6 63.6064C260.171 61.8396 262.199 59.4173 263.684 56.3396C265.169 53.2048 265.912 49.5857 265.912 45.482C265.912 41.3214 265.169 37.6738 263.684 34.539C262.199 31.4042 260.171 28.9535 257.6 27.1866C255.088 25.4197 252.231 24.5364 249.032 24.5364C245.834 24.5364 242.949 25.4197 240.378 27.1866C237.866 28.9535 235.865 31.4042 234.381 34.539C232.952 37.6738 232.239 41.3214 232.239 45.482C232.239 49.5857 232.952 53.2048 234.381 56.3396C235.865 59.4173 237.866 61.8396 240.378 63.6064C242.949 65.3163 245.834 66.1712 249.032 66.1712ZM294.267 67.8811V22.8265H296.837L297.351 30.0079H297.523C299.864 27.6711 302.263 25.7048 304.72 24.1089C307.177 22.513 309.975 21.7151 313.117 21.7151C317.744 21.7151 321.171 23.14 323.399 25.9897C325.626 28.7825 326.74 33.0856 326.74 38.8991V67.8811H323.656V39.3266C323.656 34.368 322.799 30.6634 321.085 28.2125C319.429 25.7617 316.658 24.5364 312.774 24.5364C309.975 24.5364 307.404 25.2773 305.063 26.7592C302.777 28.241 300.207 30.4638 297.351 33.4276V67.8811H294.267ZM5.32833 154.709V79.8874H17.131V144.659H48.876V154.709H5.32833ZM90.8585 156.131C88.0096 156.131 85.7373 155.555 84.0415 154.405C82.3457 153.187 81.1247 151.494 80.3786 149.329C79.6325 147.095 79.2594 144.489 79.2594 141.512V73.7961H90.9603V142.121C90.9603 143.677 91.2317 144.794 91.7743 145.471C92.3847 146.08 93.0291 146.385 93.7075 146.385C93.9788 146.385 94.2501 146.385 94.5214 146.385C94.7928 146.316 95.1998 146.25 95.7424 146.182L97.1668 155.014C96.4885 155.285 95.6406 155.522 94.6232 155.725C93.6057 155.996 92.3509 156.131 90.8585 156.131ZM150.264 156.131C145.651 156.131 141.31 154.981 137.241 152.679C133.238 150.311 129.982 146.96 127.472 142.628C125.03 138.229 123.809 132.95 123.809 126.791C123.809 120.564 125.03 115.285 127.472 110.953C129.982 106.554 133.238 103.204 137.241 100.903C141.31 98.6014 145.651 97.4508 150.264 97.4508C153.655 97.4508 156.945 98.1277 160.134 99.4813C163.321 100.767 166.137 102.662 168.579 105.167C171.021 107.671 172.954 110.75 174.378 114.405C175.803 117.992 176.515 122.121 176.515 126.791C176.515 132.95 175.259 138.229 172.75 142.628C170.308 146.96 167.086 150.311 163.084 152.679C159.15 154.981 154.876 156.131 150.264 156.131ZM150.264 146.385C153.18 146.385 155.69 145.572 157.793 143.948C159.964 142.324 161.625 140.057 162.779 137.146C163.932 134.169 164.509 130.716 164.509 126.791C164.509 122.865 163.932 119.447 162.779 116.537C161.625 113.559 159.964 111.258 157.793 109.633C155.69 107.941 153.18 107.095 150.264 107.095C147.279 107.095 144.702 107.941 142.531 109.633C140.428 111.258 138.8 113.559 137.648 116.537C136.494 119.447 135.918 122.865 135.918 126.791C135.918 130.716 136.494 134.169 137.648 137.146C138.8 140.057 140.428 142.324 142.531 143.948C144.702 145.572 147.279 146.385 150.264 146.385ZM210.24 178.06C208.749 178.06 207.426 177.958 206.272 177.755C205.187 177.552 204.135 177.281 203.118 176.943L205.356 167.806C205.9 167.941 206.544 168.11 207.289 168.313C208.036 168.516 208.782 168.618 209.528 168.618C212.58 168.618 215.022 167.603 216.854 165.572C218.685 163.61 220.109 161.139 221.127 158.161L222.348 154.303L200.167 98.7706H212.071L222.348 127.603C223.23 130.107 224.078 132.713 224.892 135.42C225.774 138.06 226.656 140.699 227.537 143.339H228.046C228.724 140.767 229.437 138.128 230.182 135.42C230.929 132.713 231.675 130.107 232.421 127.603L241.476 98.7706H252.77L232.217 158.06C230.793 162.052 229.098 165.539 227.13 168.516C225.232 171.562 222.925 173.897 220.211 175.522C217.499 177.214 214.175 178.06 210.24 178.06ZM299.389 156.131C294.777 156.131 290.741 154.981 287.281 152.679C283.822 150.377 281.143 147.027 279.243 142.628C277.343 138.229 276.394 132.95 276.394 126.791C276.394 120.767 277.513 115.556 279.752 111.156C282.059 106.757 285.009 103.373 288.604 101.004C292.267 98.6353 296.167 97.4508 300.305 97.4508C303.561 97.4508 306.308 98.0261 308.546 99.1767C310.853 100.26 313.125 101.782 315.363 103.745L314.956 94.5067V73.7961H326.657V154.709H317.093L316.076 148.415H315.77C313.667 150.58 311.225 152.408 308.444 153.897C305.664 155.387 302.645 156.131 299.389 156.131ZM302.238 146.283C304.612 146.283 306.817 145.742 308.851 144.659C310.886 143.575 312.921 141.849 314.956 139.481V112.273C312.921 110.446 310.886 109.16 308.851 108.415C306.817 107.603 304.748 107.197 302.645 107.197C300.068 107.197 297.693 108.009 295.523 109.633C293.419 111.19 291.725 113.424 290.435 116.334C289.146 119.177 288.502 122.628 288.502 126.689C288.502 130.885 289.044 134.473 290.13 137.451C291.216 140.361 292.775 142.56 294.81 144.05C296.914 145.539 299.389 146.283 302.238 146.283Z" fill="#D9D7EB"/>
            </svg>
          </div>
        :
          <div className={styles.wordmark}>
            <svg xmlns="http://www.w3.org/2000/svg" width="345" height="46" viewBox="0 0 345 46" fill="none">
              <path d="M11.7614 35.7417C9.16941 35.7417 6.88514 35.2983 4.90869 34.4115C2.96466 33.5247 1.32843 32.3949 0 31.0218L1.21502 29.9062C2.51105 31.2221 4.06628 32.2804 5.88071 33.0814C7.69513 33.8537 9.65542 34.2399 11.7614 34.2399C14.5803 34.2399 16.8159 33.6249 18.4684 32.3949C20.1532 31.1648 20.9956 29.5772 20.9956 27.6321C20.9956 26.2304 20.6878 25.1148 20.0722 24.2853C19.489 23.4557 18.7114 22.7835 17.7394 22.2686C16.7673 21.7251 15.6819 21.2245 14.4831 20.7668L9.08838 18.6214C8.08394 18.221 7.01472 17.7204 5.88071 17.1197C4.7791 16.519 3.83947 15.7323 3.06186 14.7597C2.28424 13.7586 1.89543 12.4999 1.89543 10.9839C1.89543 9.4678 2.33284 8.15194 3.20766 7.03633C4.08248 5.92073 5.26511 5.04827 6.75553 4.41896C8.27834 3.78964 9.99563 3.47498 11.9072 3.47498C14.0457 3.47498 15.9249 3.84685 17.545 4.59059C19.1974 5.30571 20.5258 6.16387 21.5302 7.16506L20.4124 8.23775C19.408 7.26517 18.1929 6.47853 16.7673 5.87782C15.3417 5.27711 13.7217 4.97676 11.9072 4.97676C9.44477 4.97676 7.46838 5.50595 5.97792 6.56435C4.48749 7.62274 3.74227 9.03872 3.74227 10.8122C3.74227 12.0995 4.08248 13.1579 4.76289 13.9874C5.44331 14.7884 6.26952 15.432 7.24155 15.9183C8.21357 16.376 9.10456 16.7764 9.9146 17.1197L15.3093 19.2651C16.6377 19.78 17.869 20.3807 19.003 21.0672C20.137 21.7251 21.0442 22.569 21.7246 23.5988C22.4375 24.5999 22.7939 25.9015 22.7939 27.5034C22.7939 29.0767 22.3403 30.4926 21.433 31.7512C20.5258 32.9813 19.246 33.9538 17.5936 34.669C15.9411 35.3841 13.9971 35.7417 11.7614 35.7417ZM36.5157 35.1839V1.11505H38.2653V11.1555V16.2615C39.6261 15.0315 41.0031 14.016 42.3964 13.2151C43.822 12.4141 45.4258 12.0136 47.2079 12.0136C49.8323 12.0136 51.7764 12.7288 53.04 14.159C54.3036 15.5607 54.9354 17.7204 54.9354 20.6381V35.1839H53.1858V20.8527C53.1858 18.364 52.6998 16.5047 51.7278 15.2746C50.7882 14.0446 49.2167 13.4296 47.0135 13.4296C45.4258 13.4296 43.9678 13.8015 42.6394 14.5452C41.3433 15.2889 39.8853 16.4045 38.2653 17.892V35.1839H36.5157ZM76.2807 35.7417C74.9523 35.7417 73.7211 35.5271 72.5871 35.098C71.4854 34.669 70.5944 34.0111 69.914 33.1243C69.2336 32.2089 68.8934 31.0361 68.8934 29.6058C68.8934 27.0886 70.238 25.1863 72.9273 23.8991C75.6163 22.5832 79.8446 21.6393 85.6121 21.0672C85.6767 19.8371 85.5476 18.6501 85.2233 17.5058C84.9317 16.333 84.3326 15.3604 83.4251 14.5881C82.5176 13.8158 81.1735 13.4296 79.3912 13.4296C77.577 13.4296 75.9405 13.7442 74.4825 14.3736C73.0245 15.0029 71.8742 15.6036 71.0318 16.1757L70.157 14.9314C70.7078 14.5881 71.4368 14.1877 72.3441 13.73C73.2837 13.2722 74.3529 12.8718 75.5517 12.5285C76.7827 12.1853 78.0949 12.0136 79.4884 12.0136C81.497 12.0136 83.0689 12.4141 84.2027 13.2151C85.3691 13.9874 86.1794 15.0172 86.6328 16.3044C87.1188 17.5917 87.3618 19.0076 87.3618 20.5523V35.1839H85.9037L85.6607 32.1803H85.5149C84.2186 33.1243 82.7773 33.9538 81.1894 34.669C79.6342 35.3841 77.9977 35.7417 76.2807 35.7417ZM76.4265 34.3257C77.9491 34.3257 79.4398 34.0111 80.8978 33.3817C82.3559 32.7238 83.927 31.7655 85.6121 30.5069V22.3973C81.9184 22.7406 78.9697 23.2412 76.7667 23.8991C74.5959 24.5284 73.0406 25.3151 72.1011 26.259C71.1615 27.1744 70.6916 28.2757 70.6916 29.5629C70.6916 31.3079 71.2587 32.5379 72.3927 33.253C73.5267 33.9682 74.8713 34.3257 76.4265 34.3257ZM108.412 35.1839L98.6919 12.5714H100.636L106.662 27.1601C107.117 28.2471 107.57 29.3484 108.023 30.464C108.477 31.551 108.915 32.5951 109.335 33.5963H109.53C109.984 32.5951 110.437 31.551 110.891 30.464C111.345 29.3484 111.782 28.2471 112.203 27.1601L118.278 12.5714H120.076L110.502 35.1839H108.412ZM141.258 35.7417C139.217 35.7417 137.321 35.284 135.572 34.3686C133.855 33.4246 132.477 32.0802 131.441 30.3353C130.404 28.5618 129.885 26.4307 129.885 23.942C129.885 21.3962 130.404 19.2364 131.441 17.4629C132.477 15.6894 133.855 14.3449 135.572 13.4296C137.321 12.4856 139.217 12.0136 141.258 12.0136C142.781 12.0136 144.223 12.2854 145.583 12.8289C146.977 13.3438 148.192 14.1161 149.229 15.1459C150.298 16.1471 151.124 17.3914 151.707 18.8789C152.323 20.3664 152.631 22.0541 152.631 23.942C152.631 26.4307 152.096 28.5618 151.027 30.3353C149.99 32.0802 148.613 33.4246 146.896 34.3686C145.179 35.284 143.299 35.7417 141.258 35.7417ZM141.258 34.3257C143.072 34.3257 144.693 33.8966 146.118 33.0385C147.576 32.1517 148.727 30.936 149.569 29.3913C150.411 27.818 150.832 26.0016 150.832 23.942C150.832 21.8538 150.411 20.0231 149.569 18.4498C148.727 16.8765 147.576 15.6465 146.118 14.7597C144.693 13.873 143.072 13.4296 141.258 13.4296C139.444 13.4296 137.807 13.873 136.349 14.7597C134.924 15.6465 133.789 16.8765 132.947 18.4498C132.137 20.0231 131.732 21.8538 131.732 23.942C131.732 26.0016 132.137 27.818 132.947 29.3913C133.789 30.936 134.924 32.1517 136.349 33.0385C137.807 33.8966 139.444 34.3257 141.258 34.3257ZM166.916 35.1839V12.5714H168.374L168.666 16.1757H168.763C170.091 15.0029 171.452 14.016 172.846 13.2151C174.239 12.4141 175.826 12.0136 177.608 12.0136C180.233 12.0136 182.177 12.7288 183.441 14.159C184.704 15.5607 185.336 17.7204 185.336 20.6381V35.1839H183.586V20.8527C183.586 18.364 183.1 16.5047 182.128 15.2746C181.189 14.0446 179.617 13.4296 177.414 13.4296C175.826 13.4296 174.368 13.8015 173.04 14.5452C171.744 15.2889 170.286 16.4045 168.666 17.892V35.1839H166.916ZM201.038 35.1839V3.5608H206.676V30.936H221.839V35.1839H201.038ZM239.511 35.7846C238.15 35.7846 237.065 35.5414 236.255 35.0551C235.445 34.5402 234.862 33.8251 234.505 32.9098C234.149 31.9658 233.97 30.8645 233.97 29.6058V0.986328H239.559V29.8633C239.559 30.5212 239.689 30.9932 239.948 31.2792C240.24 31.5367 240.548 31.6654 240.872 31.6654C241.002 31.6654 241.131 31.6654 241.261 31.6654C241.39 31.6368 241.585 31.6082 241.844 31.5796L242.524 35.3126C242.201 35.427 241.795 35.5271 241.309 35.6129C240.823 35.7274 240.224 35.7846 239.511 35.7846ZM265.506 35.7846C263.303 35.7846 261.229 35.2983 259.285 34.3257C257.373 33.3245 255.818 31.9086 254.619 30.0778C253.453 28.2185 252.869 25.9873 252.869 23.3842C252.869 20.7526 253.453 18.5213 254.619 16.6906C255.818 14.8313 257.373 13.4153 259.285 12.4427C261.229 11.4701 263.303 10.9839 265.506 10.9839C267.125 10.9839 268.697 11.2699 270.22 11.842C271.742 12.3855 273.087 13.1864 274.254 14.2448C275.42 15.3033 276.344 16.6048 277.024 18.1495C277.704 19.6655 278.045 21.4105 278.045 23.3842C278.045 25.9873 277.445 28.2185 276.246 30.0778C275.08 31.9086 273.541 33.3245 271.629 34.3257C269.75 35.2983 267.709 35.7846 265.506 35.7846ZM265.506 31.6654C266.899 31.6654 268.097 31.3222 269.102 30.6356C270.139 29.9491 270.933 28.9909 271.483 27.7608C272.034 26.5022 272.31 25.0433 272.31 23.3842C272.31 21.7251 272.034 20.2806 271.483 19.0505C270.933 17.7919 270.139 16.8193 269.102 16.1328C268.097 15.4176 266.899 15.0601 265.506 15.0601C264.08 15.0601 262.848 15.4176 261.812 16.1328C260.807 16.8193 260.03 17.7919 259.479 19.0505C258.928 20.2806 258.653 21.7251 258.653 23.3842C258.653 25.0433 258.928 26.5022 259.479 27.7608C260.03 28.9909 260.807 29.9491 261.812 30.6356C262.848 31.3222 264.08 31.6654 265.506 31.6654ZM291.773 45.0527C291.06 45.0527 290.428 45.0098 289.877 44.9239C289.359 44.8381 288.857 44.7237 288.371 44.5807L289.44 40.719C289.699 40.7762 290.007 40.8477 290.363 40.9335C290.72 41.0193 291.077 41.0622 291.433 41.0622C292.891 41.0622 294.057 40.6332 294.932 39.775C295.807 38.9455 296.487 37.9013 296.973 36.6427L297.556 35.0122L286.961 11.5417H292.648L297.556 23.7275C297.978 24.7859 298.383 25.8871 298.771 27.0314C299.193 28.147 299.614 29.2626 300.035 30.3782H300.278C300.602 29.2912 300.943 28.1756 301.299 27.0314C301.655 25.8871 302.012 24.7859 302.368 23.7275L306.693 11.5417H312.088L302.271 36.5998C301.59 38.2875 300.78 39.7607 299.841 41.0193C298.933 42.3066 297.832 43.2934 296.536 43.98C295.239 44.6951 293.652 45.0527 291.773 45.0527ZM331.975 35.7846C329.771 35.7846 327.844 35.2983 326.191 34.3257C324.539 33.3531 323.259 31.9371 322.352 30.0778C321.445 28.2185 320.991 25.9873 320.991 23.3842C320.991 20.8384 321.526 18.6357 322.595 16.7764C323.696 14.9171 325.106 13.4868 326.823 12.4856C328.573 11.4845 330.436 10.9839 332.412 10.9839C333.968 10.9839 335.28 11.227 336.349 11.7133C337.45 12.171 338.536 12.8146 339.605 13.6441L339.411 9.73953V0.986328H345V35.1839H340.432L339.946 32.5236H339.8C338.795 33.4389 337.629 34.2113 336.3 34.8406C334.972 35.4699 333.53 35.7846 331.975 35.7846ZM333.336 31.6225C334.47 31.6225 335.523 31.3937 336.495 30.936C337.467 30.4783 338.439 29.7488 339.411 28.7477V17.2484C338.439 16.4761 337.467 15.9325 336.495 15.6179C335.523 15.2746 334.534 15.103 333.53 15.103C332.298 15.103 331.165 15.4463 330.128 16.1328C329.123 16.7907 328.313 17.7347 327.698 18.9647C327.082 20.1661 326.775 21.625 326.775 23.3413C326.775 25.1148 327.034 26.6309 327.552 27.8895C328.07 29.1196 328.816 30.0492 329.788 30.6785C330.792 31.3079 331.975 31.6225 333.336 31.6225Z" fill="#D9D7EB"/>
            </svg>
          </div>
        }

        {/* Right: Hamburger */}
        <div className={styles.navButton}
          onClick={() => setOpen(o => !o)}
        >
          {!open ?
            <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none">
              <path d="M3 12H17M3 6H21M3 18H21" stroke="#D7E2EB" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
            </svg>
          :
            <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none">
              <path d="M18 6L6 18M6 6L18 18" stroke="#D7E2EB" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
            </svg>
          }
        </div>
      </nav>

      <div id="mobile-menu" className={`${styles.menu} ${open ? styles.open : ''}`}>
        <nav>
          <div className={styles.mobileList} >
            {navItems.map(({ href, label }) => (
              <Link href={href} className={`${styles.link} ${pathname === href ? styles.active : ''}`}>
                {label}
              </Link>
            ))}
          </div>
        </nav>
      </div>
      {/* Push content down so the fixed bar doesn’t overlap when at top */}
      <div className={styles.navBarSpacer} />
    </>
  );
}